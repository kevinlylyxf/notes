- 网络数据传输：
    - 应用层（各种各样的应用服务，例如http，https等各种应用服务），应用层里面我们输入URL，可以看出具体使用什么协议来传输数据，http://www.baidu.com， ，可以看出是使用http传输数据，产生请求报文
    - 传输层TCP、UDP。TCP是一个协议叫传输控制协议。TCP拿到数据之后要做的是将数据分成一个一个的数据包，主要是为了数据的安全稳定。因为这样不容易被监听，监听需要将所有的数据包都拿到。
    - 网络层IP。IP模块拿到TCP数据后，加上IP头信息，其中包含了IP地址。通过这个IP地址，就知道数据传输方向，从而找到下一个路由器的MAC地址。主要设备是路由器
      - 分组（packet）是网络传输中的二进制格式单元，数据包（datapacket）是TCP/IP通信协议传输中的数据单位；通过网络传输的数据基本单元，包含一个报头和数据本身，其中报头描述了数据的目的地及其与其他数据之间的关系，可以理解为数据传输的分组，我们将通过网络传输的基本数据单元称为数据报（Datagram）
    - 数据链路层。是负责网络在现实世界的一个表现。主要功能是数据包分帧，物理寻址。数据链路层在拿到数据包之后，增加MAC头部信息，转换成光电信号。主要设备是网卡。MAC是网卡独一无二的身份认证。MAC头部有目的主机IP的MAC地址。其MAC地址由ARP协议转换目标主机IP为目标主机MAC地址。
      - 无论任何报文，在数据链路层都是分割成帧的，你只要在Linux下ifconfig一下，你会发现每个口都有一个参数叫MTU，什么意思呢？最大传输单元，意思即每个链路层报文所能够达到的最大长度，那么如果你在tcp中一次读写长度超过了这个值，到[链路层](https://www.zhihu.com/search?q=链路层&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A30064298})都会分割为长度小于MTU的单元。即分割为帧
      - 数据链路层定义了在单个链路上如何传输数据。这些协议与被讨论的各种介质有关。示例：[ATM](https://baike.baidu.com/item/ATM/8133555)，[FDDI](https://baike.baidu.com/item/FDDI/572177)等。数据链路层必须具备一系列相应的[功能](https://baike.baidu.com/item/功能/10346898)，主要有：如何将数据组合成[数据块](https://baike.baidu.com/item/数据块/107672)，在数据链路层中称这种数据块为[帧](https://baike.baidu.com/item/帧/460387)，帧是数据链路层的传送单位；如何控制帧在[物理信道](https://baike.baidu.com/item/物理信道/3288982)上的传输，包括如何处理传输差错，如何调节发送[速率](https://baike.baidu.com/item/速率/1181335)以使与接收方相匹配；以及在两个网络实体之间提供数据链路通路的建立、维持和释放的管理。
    - 物理层。就是光纤这类实际的传输信息的载体。
- ARP地址解析协议，是一个通过解析网络层地址来寻找数据链路层地址的网络传输协议。
    - 同一局域网中的一台主机要和另一台主机进行直接通信，必须要知道目标主机的MAC地址。而在TCP/IP协议中，网络层和传输层只关心目标主机的IP地址。这就导致在以太网中使用IP协议时，数据链路层的以太网协议接到上层IP协议提供的数据中，只包含目的主机的IP地址。于是需要一种方法，根据目的主机的IP地址，获得其MAC地址。这就是ARP协议要做的事情。所谓地址解析（address resolution）就是主机在发送帧前将目标IP地址转换成目标MAC地址的过程。这是同一局域网内的
    - 当发送主机和目的主机不在同一个局域网中时，即便知道对方的MAC地址，两者也不能直接通信，必须经过路由转发才可以。所以此时，发送主机通过ARP协议获得的将不是目的主机的真实MAC地址，而是一台可以通往局域网外的路由器的MAC地址。于是此后发送主机发往目的主机的所有帧，都将发往该路由器，通过它向外发送。这种情况称为委托ARP或ARP代理（ARP Proxy）。路由器在转发过程中并不知道路径，只知道下一个MAC地址。所以如果还需要转发，其MAC头就是下一个路由器的MAC地址，层层转发最后到目的IP的网卡。这一路过来每一层转发下MAC头部信息都是下一层的MAC地址，而不是最终的MAC地址。路由器工作在网络层，其主要功能是寻找最快的数据传输路径，就是寻找那个路由器可以使数据传输最快。网卡加的MAC头是目的IP的MAC地址。数据到达路由器后会脱掉MAC头，经过路由器转发后会加上下一级的MAC头，其是经过ARP代理实现的。
- 网关是设备与路由器之间的桥梁，正确的网关配置才能保证用户可以正常上网。 在一般的路由器网络中，默认网关最常见的一般是：192.168.1.1和192.168.0.1，也就是路由器LAN接口的默认IP地址。网关就是路由器的IP地址，这个地址和内网IP外网IP不是一回事。默认网关就是路由器找不到可用的网关就发送给默认网关。数据到网关就是数据到路由器的意思。为什么有网关，因为有的路由器他可以设置为没有路由功能只是无线AP，所以连接他的设备的网关是上一级路由的网关，其没有网关。这样可以增加网络的可使用性。
- B=byte=8bit,MB=8Mb,网络带宽300Mb，而我们说的传输速度说的是MB，所以传输速度为带宽/8，speedtest测出来的速度为Mb，所以有时候可以基本跑满带宽。千兆网口意思是传输速度可以达到1000Mb，所以带宽100以上要用千兆网口才能跑满带宽。千兆网口要用六类双绞网线才能跑满带宽。
- IP地址分为A、B、C类，公网IP是有限的，要分给好多个国家，每个国家都有自己的宽带运营商，所以运营商把公网IP连进来，然后通过路由器、交换机和网关这类技术弄成子网（网关是一个概念，路由器是一种设备，路由器有网关功能。路由器下面接路由器可以，但是一般用交换机来组成子网，交换机主要起分时复用的功能。一个网线进来用交换机来分出来很多，然后在网线上接路由器分子网。子网掩码就是来区分子网的，子网掩码下的IP地址都是可以直接通信的。可以将同一路由器下的子网掩码设置的不同来区分子网。）（多级路由也可以形成更大的子网，链接不同层级的路由器，但是速度会很慢，每经过一个路由就会有一次数据转发。一般用交换机和路由器来进行组成更大的子网，这样就不会很慢。网线进来的带宽是一样的，不管怎么分也不会突破这个限制。交换机也一样。），子网在通过交换机、路由器网关这类技术弄成小子网，一直这样进行下去，连到家里就是很多个子网的子网，数据传输的时候，家里路由器就会依次往上连接子网，路由->网关这类，如果需要连接外网就会通过公网IP发送数据出去，不需要外网数据就会在内网之间传输。
- 无线AP就是无线接入点，是将有线网络转化为无线网络组成子网，而路由器是有线网络和无线网络组成的一个子网，两者的应用场景不一样，无线AP用在大型的网络上面，只需要无线网络，而路由器用在家庭当中无线有线都能用,简单来说无线AP就是一个wifi信号收发器，相当于去掉了路由和管理功能的无线路由器，其不需要电源供电，网线供电。无线AP相当于无线交换机作为网络的延伸，（交换机就是一转多，每个都能享受到光电转换，但是每个转换出来的口都得经过这个原来的口），无线AP相当于路由器给了它一个接口，他用这个接口相当于无线交换机连接更多的设备，而每个设备都是通过无线交换机和主路由进行数据传输，所以它的IP是固定的，和主路由在一个网段。
![](https://raw.githubusercontent.com/kevinlylyxf/notes/master/pictures/daliy/apac.png)
- WAN口和LAN口的作用和区别：简单来说WAN口用于外网（以太网），LAN口用于内网，例如要连接宽带运营商，可以用WAN口拉网线到光猫上去，LAN口连接你自己的设备，如笔记本，台式机，路由器，当WAN口连上外网，LAN端口上的各个设备和路由器一起组装成一个小型局域网，这个局域网内的设备可以互相发现，访问。无线路由器配置的WIFI相当于LAN端口，连接自己的无线设备，手机/ipad等。
  ![](https://raw.githubusercontent.com/kevinlylyxf/notes/master/pictures/daliy/wanlan.png)
    WAN口连接的就相当于另外一个局域网，不能互相访问，但是通过LAN口可以。
- 路由就是通过互联的网络把信息从原地址传输到目的地址的活动。路由发生在OSI网络参考模型中的第三层即网络层。路由引导分组转送，经过一些中间节点后，到他们最后的目的地。作为硬件的话，则成为路由器。简单来说路由器就是传输数据的，他可以引导传送到哪，而千兆网口只是数据传送的物理实现，不能引导数据传送。
- 网关实质上是一个网络通向其他网络的IP地址。比如有网络A和网络B，网络A的IP地址范围为“192.168.1.1-192. 168.1.254”，子网掩码为255.255.255.0；网络B的IP地址范围为“192.168.2.1-192.168.2.254”，子网掩码为255.255.255.0。在没有路由器的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台交换机（或集线器）上，TCP/IP协议也会根据子网掩码（255.255.255.0）与主机的IP 地址作 “与” 运算的结果不同判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机。由于历史的原因，许多有关TCP/IP的文献曾经把网络层使用的路由器称为网关，在今天很多局域网采用都是路由来接入网络，因此通常指的网关就是路由器的IP！因为通过路由器可以找到局域网里的设备主机。简单来说网关就是一个门，你要找到门里面的设备就要通过这个门，一般的网络通过路由器连接，所以这个门就是路由器的IP地址。在数据传输的时候，最底层的网络通过路由器访问上一层的网关，如果需要访问网关下面的设备，就通过网关访问，如果需要在访问上层的网络，就通过网关访问上层的网关。
- DHCP动态主机配置协议，是一个局域网的网络协议，指的是由服务器控制一段IP地址范围，局域网内主机登录服务器时就可以自动获得服务器分配的IP地址和子网掩码。在LAN口中取消DHCP功能，此时LAN口不能和其他路由器WAN口相连，只相当于交换机，其wifi功能也类似。
- NAT（网络地址转换协议）主要用于将内网的主机与因特网上的主机通信，意思是将内网上的私有IP地址转化为公网IP地址与外界进行通信。NAT使数据传输速度降低，但是没有办法。IPV6就不需要NAT了。NAT一般和端口映射一起使用。端口映射就是将外网的端口映射到内网，这样访问外网时就访问到内网的主机的端口。
- 子网掩码又叫网络掩码、地址掩码、子网络遮罩，用来指明一个IP地址哪些位标识的是主机所在的子网，以及哪些位标识的是主机的位掩码。子网掩码只有一个作用，就是将某个IP地址划分为网络地址和主机地址两部分。简单来说子网掩码就是用来划分子网的网段和遮掩部分IP地址，遮掩的部分IP地址就是子网内的主机地址，我们不需要知道子网内的主机号，我们只需要根据子网掩码划分出来的子网网段就可以知道当前子网的网段，里面的主机可以通信。两个IP地址进行通信时，通过IP地址与子网掩码进行与操作就可以知道网段是否一样。子网掩码从外面来看就是将子网遮盖住，外面只看到一个网段，这样更有利于IP地址统一。就是相当于将子网都掩盖起来了，只留下子网网段。子网掩码一共32位，其中1和0必须是连续的，1的位数指示了子网网段，0的位数指示了子网的主机号。子网掩码和IP地址一起时，就把后面的主机位屏蔽了，只留下了子网网段，从外面看就是一个网络。
- [2.4G和5G频段的理解](https://www.bilibili.com/read/cv1719200/),2.4G共83.5M带宽，分13个信道，每个信道20M，其中有重叠，5G共900多M带宽，信道多，带宽大，干扰小。当某一地区信道干扰大时就需要换信道，减小网络之间的互相影响。在网络信号不多的环境下，我们可以选择增大信道的带宽，比如从20M扩大到40M，此时下载速率就会提高，跟宽带大了速度就变快了一个道理。,2.4G共83.5M带宽，分13个信道，每个信道20M，其中有重叠，5G共900多M带宽，信道多，带宽大，干扰小。当某一地区信道干扰大时就需要换信道，减小网络之间的互相影响。在网络信号不多的环境下，我们可以选择增大信道的带宽，比如从20M扩大到40M，此时下载速率就会提高，跟宽带大了速度就变快了一个道理。5G频段高，携带数据更多，比2.4G更快。
- 光猫在默认情况下是路由模式，其除了将光信号转化为网络信号还要拨号进行路由功能，通过WAN口连接可以划分一个新的网段给终端，转化NAT，寻找路由表，进行数据的传输，如果将光猫转化为桥接模式，光猫只负责将光信号转化为网络信号，不进行拨号，拨号功能由无线路由器来进行。这样设置的好处为光猫没有路由功能，整个网络只进行了一次路由，网络速度更快。
- 交换机理解。交换机就是将一个端口分成多个端口，类似于原来只有一根网线，现在多人要同时上网，就需要用交换机将一个多口分成多个端口供大家上网，但是原来的那一个端口带宽有限，所有的设备分享那一个带宽速度。
- 路由器可以给局域网自动自动分配IP地址、虚拟拨号，交换机只是用来分配网络数据的，所以将路由器设置成无线交换机或无线AP模式，路由器就相当于少了一次路由，速度更快
- 多级路由的作用是形成更大的子网，连接更多的设备，例如一个区域中有很多设备需要联网，此时一个路由器通过WAN口连接外网，网络中设备很多，就需要通过LAN口连接下一级路由，此时下一级路由可以分配一个新的网段，，一个路由器有很多LAN口，可以接很多路由器，连接更多的设备，如果LAN口不够时，也可以通过交换机多出LAN口来接更多的路由器，但是分出来的设备共享带宽，所以外面的带宽就要很大。如果两级路由不够的话，还可以通过两级路由的LAN口连接三级路由的WAN口来扩展，此时三级路由也会分配新的网段，如此下去。以上述三级路由为例，每层路由都会分配地址形成新的网段，每层路由都会有路由的功能，进行数据的转发，这样速度就会下降。如果区域中没有很多设备，此时一级路由就够了，只需要有设备进行数据的转发，二级路由不需要进行数据的转发，只需要充当无线AP的功能就可以了。在实际中，光猫设置了路由功能，无线路由器只需要设置为无线AP模式或无线交换机模式就可以了。无线交换机和有线交换机类似，也是为了连接更多的设备，但是需要共享带宽。一个路由器一次路由就有一个网关，外面的设备访问就需要过网关。一个路由器相当于一个子网，其网关和路由器的IP地址一样。洋葱那个R2S中如果将光猫设置成桥接，其路由功能由R2S来实现。如果不是类似于R2S的设备需要三级连接。只有光猫和无线路由器两个设备，其中有一个需要设置为路由模式进行路由功能,其中的路由器是刷了系统了也就没有了原来自带的AP模式什么的了，肯定带有路由功能。
- 桥接：桥接器是用于在两个或多个网段或子网间提供通信路径的互联设备。通俗来讲就是将多个子网连接到一起，形成一个子网。例如无线桥接，在家庭中一个路由器覆盖范围不够，需要扩大覆盖范围，此时就需要桥接，两个路由器在一个子网内，通过WDS将两个路由器桥接到一起，扩大信号覆盖范围。无线AP模式也需要网线的连接，而无线桥接不要有线的连接，只需要将第二个路由器连接上第一个路由器的wifi即可。光猫桥接也是类似的原理，光猫桥接之后路由器连接的设备都在一个子网内，要不然会进行两层路由，即使第二层路由设置为无线AP模式，光猫的路由功能也不理想，影响网络的速度。
- 内网穿透，反向代理的主要是用来作内网穿透，其实就是利用 VPS 访问不具有公网 IP 的内网服务器。具体的例子是，家里有一台 NAS，因为没有公网 IP，正常情况下在外面（离开了家里的网络）没法直接访问这台 NAS，但是通过反向代理就可以。简单来说就是在外面访问自己建设的内网的IP地址，比如内网设备NAS，或内网设备上运行着网站什么的。
- 透明代理透明网关，普通的家用路由器本就是一个网关。使用网关翻墙可以使局域网内的所有设备都具有直接翻墙的能力，并且能够全局代理，而不必每台设备都安装 V2Ray，配置更新时只需在网关修改配置。
- 正向代理反向代理透明代理：代理（英语：Proxy）也称网络代理，是一种特殊的网络服务，允许一个（一般为客户端）通过这个服务与另一个网络终端（一般为服务器）进行非直接的连接。一些网关、路由器等网络设备具备网络代理功能。一般认为代理服务有利于保障网络终端的隐私或安全，防止攻击。
    - 正向代理就是局域网内的设备要访问外面都通过一个中间服务器来访问，访问得到的数据通过中间服务器传回。所有的数据都通过代理服务器来传输。
    - 反向代理:服务器根据客户端的请求，从其关系的一组或多组后端服务器（如Web服务器）上获取资源，然后再将这些资源返回给客户端，客户端只会得知反向代理的IP地址，而不知道在代理服务器后面的服务器集群的存在。这种用于负载均衡。若服务器集群中有负荷较高者，反向代理通过URL重写，根据连线请求从负荷较低者获取与所需相同的资源或备援。
    - 透明代理：透明代理的意思是客户端根本不需要知道有代理服务器的存在，它改变你的request fields（报文），并会传送真实IP，多用于路由器的NAT转发中。防火墙作为实际存在的物理设备，其本身也起到路由的作用，所以在为用户安装防火墙时，就需要考虑如何改动其原有的网络拓扑结构或修改连接防火墙的路由表，以适应用户的实际需要，这样就增加了工作的复杂程度和难度。但如果防火墙采用了透明模式，即采用无IP方式运行，用户将不必重新设定和修改路由，防火墙就可以直接安装和放置到网络中使用，如交换机一样不需要设置IP地址。透明模式的防火墙就好象是一台网桥(非透明的防火墙好象一台路由器)，网络设备(包括主机、路由器、工作站等)和所有计算机的设置（包括IP地址和网关）无须改变，同时解析所有通过它的数据包，既增加了网络的安全性，又降低了用户管理的复杂程度。防火墙使用透明代理技术，这些代理服务对用户也是透明的，用户意识不到防火墙的存在，便可完成内外网络的通讯。当内部用户需要使用透明代理访问外部资源时，用户不需要进行设置，代理服务器会建立透明的通道，让用户直接与外界通信，这样极大地方便了用户的使用。一般使用代理服务器时，每个用户需要在客户端程序中指明要使用代理，自行设置Proxy参数（如在浏览器中有专门的设置来指明HTTP或FTP等的代理）。而透明代理服务，用户不需要任何设置就可以使用代理服务器，简化了网络的设置过程。透明代理的原理如下：假设A为内部网络客户机，B为外部网络服务器，C为防火墙。当A对B有连接请求时，TCP连接请求被防火墙截取并加以监控。截取后当发现连接需要使用代理服务器时，A和C之间首先建立连接，然后防火墙建立相应的代理服务通道与目标B建立连接，由此通过代理服务器建立A 和目标地址B的数据传输途径。从用户的角度看，A和B的连接是直接的，而实际上A 是通过代理服务器C和B建立连接的。反之，当B对A有连接请求时原理相同。由于这些连接过程是自动的，不需要客户端手工配置代理服务器，甚至用户根本不知道代理服务器的存在，因而对用户来说是透明的。网关翻墙就是使用透明代理，网关翻墙可以使局域网内的所有设备都具有直接翻墙的能力，并且能够全局代理，而不必每台设备都安装 V2Ray，配置更新时只需在网关修改配置，用一些网友的话说就是就感觉没有墙一样。例如mac下的surge，我们只需要连上mac的wifi，其余的翻墙的工作由mac做，我们感受不到翻墙的过程，这就是透明的意思。透明就是我们不需要额外的操作，只需要最简单的操作就能得到复杂的结果，这个过程由代理服务器来干，对我们来说是透明的。透明代理也是由代理服务器的，只是操作是透明的。
- 防火墙技术是通过有机结合各类用于安全管理与筛选的软件和硬件设备，帮助计算机网络于其内、外网之间构建一道相对隔绝的保护屏障，以保护用户资料与信息安全性的一种技术。
- 旁路由，旁路由是和主路由相对的概念，当主路由功能较为强大时，其运行压力比较大，此时就需要旁路由来运行主路由的一些服务，减轻主路由的压力，旁路由的处理数据会转发到主路由，此时连接一个路由器就得到了两个路由器的功能，其设置参考网络，其中有网关和IP地址、DHCP的设置。主路由和旁路由通过LAN口连接，没有经过WAN口，两个路由在一个子网上。旁路由还有一个应用就是当主路由不想动时，但又想用一个功能，此时就需要旁路由。我们也可以通过设置让设备连接旁路由的wifi，此时就相当于旁路由是一个主路由，前面的路由器只是收发数据用的。旁路由也就是透明网关，网关是一个子网的大门，旁路由没有添加子网，所以其没有网关，也就是透明网关。只有主路由一个网关。也可以设置两个路由器都能上网，但是功能不一样，我们可以让旁路由多一些科学上网的功能。
- 主路由LAN口后面接一个无线AP，相当于在一个子网内，只要没有接路由器WAN口进行路由功能，就在一个子网内，上述旁路由虽然有两级路由，但是没有通过WAN口来连接，其数据还是在一个子网内。
---
- 在编译时如果找不到芯片的选择时，看看openwrt官网，选择型号后有相应芯片的介绍。
- 编译出来的固件有的是.bin，有的是.img，.bin应该是硬路由用的，.img应该是软路由用的
- 有的插件在源码里面是没有集成的需要后续去装，如果有ipk文件直接下载下来就行了，使用opkg install安装，如果没有需要将源码放到/package/lean中然后，make menuconfig选择安装的插件，然后 make package/lean/插件名称/compile V=s，必须这么写，否则编译不成功，必须从package开始写，编译好的文件在/bin/package/bash里面，ipk文件就是插件安装包，它在环境下运行，应该是不依赖硬件的，它是跑在系统之上的,ipk文件应该是通用的，（实际证明是错误的，每个平台都得单独编译）如果以前没有插件，需要重新安装就这样做，如果以前有就不需要make menuconfig继续配置了，直接make编译插件，不需要那个线程什么的下载，这是更新插件或是原来没有重新编译的步骤，不需要那个线程的下载，那个是下载很大的一个东西。
- 编译了ac2100的ssrp插件，可以试一下在树莓派能用吗，检验一下ipk文件。-不能用，还没搞清楚，没有编译成功插件。应该是单独编译不行，其需要的一些依赖比较多，有写不需要依赖的可以成功。
- 大部分情况下将源码放在package/lean下进行make编译应该能成功，ssrplus有一些依赖比较麻烦没有成功。
- ssrplus 使用前输入代码echo 0xDEADBEEF > /etc/config/google_fu_mode
- openwrt使用lean的固件编译时，将feeds.conf.default中的helloworld前面的注释去掉就有ssrplus了
- 树莓派只有一个网口，我们可以将wifi改成lan口，网卡弄成wan口，此时新加wan口，lan口设置进入系统，vi /ect/config/network，然后将lan口前面eth0取消。
- 尝试编译了adguardhome插件，如果原来没有这个插件，得进入menuconfig重新生成.config，选中插件，然后在make，只是不用那么线程下载什么的。
- 二次编译时make defconfig 是使用默认的配置文件，不需要重新配置，如果重新配置时得用重新编译的方法，二次编译相当于更新，其中有些文件需要删除，看网上二次编译openwrt教程。
- 如果第一次编译时没有编译插件库里的东西，我们不需要重新配置了，只需要将其编译一下就行了，插件库里有直接进入menuconfig，然后make，如果没有找到插件，放到/package/lean，然后make
---
- 子网掩码是用来判断任意两台计算机的ip地址是否属于同一子网络的根据。最为简单的理解就是两台计算机各自的ip地址与子网掩码进行and运算后，得出的结果是相同的，则说明这两台计算机是处于同一个子网络上的，可以进行直接的通讯。
- 网关实质上是一个网络通向其他网络的IP地址，TCP/IP协议也会根据子网掩码（255.255.255.0）判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机。网关就是一个IP地址。网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。说明路由器是网关，但是无限AP不是网关，因为其没有路由功能。有一个网关就是有一个路由，网关就是路由，有一个路由就有一次转发过程，数据经过的路由越多，转发的越多，数据传输越慢。
- 有一个公网IP，需要设计子网时，里面的IP一般不重复，这是设计子网要考虑的，我们不需要考虑这个地址重复的问题。只需要管直到IP地址链接就行了。
- 在公司的电脑不能链接实验室的电脑，因为实验室电脑是局域网，要进行内网穿透才行，此时进行的是端口映射，ifconfig和实际我们要连的端口不一样。例如阿里云就是进行了内网穿透我们才能链接自己的小服务器。链接时我们不需要考虑IP地址问题，因为里面有各种机制，NAT转发什么的来确保IP地址不重复，而且我们链接是有用户名和密码。
- 一个IP地址有多级路由的时候，如果不再一个子网内，ping不通。举例来说，我的mac电脑链接焦伟电脑放出来的wifi，我的电脑能ping通国强的电脑，但是国强的ping不通我的电脑。我的理解是如果我的电脑链接国强的电脑，其会一级一级的网上找，如果国强的电脑没有建一个小子网，我就能ping通，如果国强电脑那新建了一个子网，我就ping不通。意思是网络一级一级往上找，如果寻找的IP地址和自己一级一级上去的地址在一个直接子网内即对方IP没有新建一个子网然后往下，就可以ping通。反之国强想连我的，我的是在新建的子网，所以联不通，但是我用内网穿透，映射到一个直接子网内就能使用。如果国强那新建了一个子网，但是它也使用内网穿透映射到上面，我就能ping通，能不能找到内网里面的IP我们就不管了，应该能找到。
